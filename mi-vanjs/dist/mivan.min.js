"use strict";(()=>{var g="area,base,br,col,embed,hr,img,input,keygen,link,meta,param,source,track,wbr",$="a,abbr,acronym,address,applet,article,aside,audio,b,base,basefont,bdi,bdo,bgsound,big,blink,blockquote,body,button,canvas,caption,center,cite,code,colgroup,command,content,data,datalist,dd,del,details,dfn,dialog,dir,div,dl,dt,element,em,fieldset,figcaption,figure,font,footer,form,frame,frameset,h1,h2,h3,h4,h5,h6,head,header,hgroup,html,i,iframe,image,ins,isindex,kbd,label,legend,li,listing,main,map,mark,marquee,math,menu,menuitem,meter,multicol,nav,nextid,nobr,noembed,noframes,noscript,object,ol,optgroup,option,output,p,picture,plaintext,pre,progress,q,rb,rbc,rp,rt,rtc,ruby,s,samp,script,section,select,shadow,slot,small,spacer,span,strike,strong,style,sub,summary,sup,svg,table,tbody,td,template,textarea,tfoot,th,thead,time,title,tr,tt,u,ul,var,video,xmp";function o(){let e;return o.uids.length>0?e=o.uids.shift():e=crypto.randomUUID().slice(0,8),e}o.uids=[];function v(){let e=[...new Set(this.dyn.map(i=>i.id))];return`
<mivan-uids style="display:none;">${JSON.stringify(e)}</mivan-uids>`}function u(e,i=!0){let n=function(r={},...b){let s=[],a="<"+e,d;return Object.keys(r).forEach(t=>{if(t.startsWith("on")){let l=t.slice(2);d||(d=o(),a+=` data-tagid="${d}"`),s.push({id:d,type:"event",prop:l,fn:r[t]});return}if(typeof r[t]=="function"){d?a+=` ${t}="${r[t]()}"`:(d=o(),a+=` ${t}="${r[t]()}" data-tagid="${d}"`),s.push({id:d,type:"bind",prop:t,fn:r[t]});return}return a+=` ${t}="${r[t]}"`}),a+=">",i&&(b.forEach(t=>{if(typeof t=="function"){let l=o();s.push({id:l,type:"bind",prop:"innerHTML",fn:t}),a+=`<span data-tagid="${l}">${t()}</span>`;return}if(t.html){a+=t.html,s=s.concat(t.dyn);return}return a+=t}),a+="</"+e+">"),{html:a,dyn:s,htmlIds:v}};return n.tagName=e,n}var c={};g.split(",").forEach(e=>c[e]=u(e,!1));$.split(",").forEach(e=>c[e]=u(e,!0));var m=[];function h(e,i=void 0){i&&(i.insertAdjacentHTML("beforeEnd",e.html),p.forEach(n=>{n&&document.querySelector("head").insertAdjacentHTML("beforeEnd",`<link rel="stylesheet" href="${n}" />`)}),document.querySelector("head").insertAdjacentHTML("beforeEnd",`<style>${y.join(`
`)}</style>`)),m.push(e),e.dyn.forEach(n=>{n.type==="event"&&document.querySelector(`[data-tagid="${n.id}"]`).addEventListener(n.prop,()=>{n.fn()})})}function E(e){o.uids=JSON.parse(document.querySelector("mivan-uids")?.innerText),h(e())}function f(){m.forEach(e=>{e.dyn.forEach(i=>{if(i.type!=="bind")return;let n=document.querySelector(`[data-tagid="${i.id}"]`),r=i.prop;r==="class"&&(r="className"),n[r]=i.fn(n)})})}var p=[""],y=[""],q=e=>e.split("/").pop().split(".").shift(),S={tags:c,createTag:u,render:h,hydrate:E,up:f,update:f,links:p,styles:y,file:q};})();
