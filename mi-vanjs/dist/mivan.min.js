"use strict";(()=>{var $="area,base,br,col,embed,hr,img,input,keygen,link,meta,param,source,track,wbr",v="a,abbr,acronym,address,applet,article,aside,audio,b,base,basefont,bdi,bdo,bgsound,big,blink,blockquote,body,button,canvas,caption,center,cite,code,colgroup,command,content,data,datalist,dd,del,details,dfn,dialog,dir,div,dl,dt,element,em,fieldset,figcaption,figure,font,footer,form,frame,frameset,h1,h2,h3,h4,h5,h6,head,header,hgroup,html,i,iframe,image,ins,isindex,kbd,label,legend,li,listing,main,map,mark,marquee,math,menu,menuitem,meter,multicol,nav,nextid,nobr,noembed,noframes,noscript,object,ol,optgroup,option,output,p,picture,plaintext,pre,progress,q,rb,rbc,rp,rt,rtc,ruby,s,samp,script,section,select,shadow,slot,small,spacer,span,strike,strong,style,sub,summary,sup,svg,table,tbody,td,template,textarea,tfoot,th,thead,time,title,tr,tt,u,ul,var,video,xmp";function o(){let e;return o.uids.length>0?e=o.uids.shift():e=crypto.randomUUID().slice(0,8),e}o.uids=[];var d=[],b=[];function S(){let e=[...new Set(d.map(t=>t.id))];return`
<mivan-uids style="display:none;">${JSON.stringify(e)}</mivan-uids>`}function y(e){return Array.isArray(e)?e.join(`
`):typeof e=="function"?e():e}function l(e,t=!0){let i=function(s={},...c){c=c.flat();let r="<"+e,a;return Object.keys(s).forEach(n=>{if(n.startsWith("on")){let u=n.slice(2);a||(a=o(),r+=` data-tagid="${a}"`),d.push({id:a,type:"event",prop:u,fn:s[n]});return}if(typeof s[n]=="function"){a?r+=` ${n}="${s[n]()}"`:(a=o(),r+=` ${n}="${s[n]()}" data-tagid="${a}"`),d.push({id:a,type:"bind",prop:n,fn:s[n]});return}return r+=` ${n}="${s[n]}"`}),r+=">",t&&(c.forEach(n=>{if(typeof n=="function"){let u=o();d.push({id:u,type:"bind",prop:"innerHTML",fn:n}),r+=`<span data-tagid="${u}">${y(n())}</span>`;return}return r+=n}),r+="</"+e+">"),r};return i.tagName=e,i}var f={};$.split(",").forEach(e=>f[e]=l(e,!1));v.split(",").forEach(e=>f[e]=l(e,!0));f.tag=(e,t,...i)=>l(e,!0)(t,...i);function g(){let e="",t="";for(let i of b)i.endsWith(".css")?e+=`<link rel="stylesheet" href="${i}" />
`:t+=i+`
`;return e+`
<style>`+t+"</style>"}function h(){for(let e of d)e.type==="event"&&document.querySelector(`[data-tagid="${e.id}"]`).addEventListener(e.prop,e.fn)}function q(){document.querySelector("head").insertAdjacentHTML("beforeEnd",g())}var m=!1;function x(e,t){typeof t=="string"&&(t=document.querySelector(t)),m||q(),t.insertAdjacentHTML("beforeEnd",e),m||h(),m=!0}function E(...e){let t=document.querySelector("mivan-uids");t&&(o.uids=JSON.parse(t.innerText)),h()}function p(){for(let e of d){if(e.type!=="bind")continue;let t=document.querySelector(`[data-tagid="${e.id}"]`);if(!t)continue;let i=e.prop;i==="class"&&(i="className"),t[i]=y(e.fn(t))}}var j=e=>e.split("/").pop().split(".").shift(),L={tags:f,createTag:l,up:p,update:p,file:j,render:x,hydrate:E,css:b,getCSS:g,htmlIds:S};})();
